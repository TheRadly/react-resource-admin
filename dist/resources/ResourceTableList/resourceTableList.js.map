{"version":3,"file":"resourceTableList.js","names":["_react","_interopRequireDefault","require","_column","_datatable","_editDeleteColumnTemplate","_staticTexts","_paginator","_resourceTableListWrapper","_useResourceTableList","_lodash","_jsxRuntime","obj","__esModule","default","ResourceTableList","_ref","values","loading","emptyMessage","children","isSelectable","onSelectionChange","onClickEditField","selection","isPaginator","fields","getQueryMethod","paginatorCount","handleSortField","showMode","deleteQueryMethod","confirmDeleteMessage","onRowClick","onClone","rows","hideRowActions","hideClone","handleChangePagination","paginatorFirst","handleRowClick","handleDeleteField","useResourceTableList","paginatorTemplate","layout","CurrentPageReport","options","concat","first","last","totalRecords","jsxs","DataTable","selectionMode","undefined","value","DEFAULT_LIMIT","dataKey","onSort","sortMode","e","jsx","Column","length","map","_ref2","field","sortable","header","capitalize","ID","body","row","onClickEdit","id","onClickDelete","onClickClone","Paginator","template","onPageChange","_default","exports"],"sources":["../../../src/resources/ResourceTableList/resourceTableList.tsx"],"sourcesContent":["import React from \"react\";\nimport { Column } from \"primereact/column\";\nimport {\n  DataTable,\n  DataTableSelectionChangeEvent,\n  DataTableSortEvent,\n} from \"primereact/datatable\";\nimport EditColumnTemplate from \"./editDeleteColumnTemplate\";\nimport { DEFAULT_LIMIT, ID } from \"../../staticTexts\";\nimport {\n  Paginator,\n  PaginatorCurrentPageReportOptions,\n} from \"primereact/paginator\";\nimport ResourceTableListWrapper from \"./styled/resourceTableListWrapper\";\nimport useResourceTableList from \"./talons/useResourceTableList\";\nimport { capitalize } from \"lodash\";\n\ninterface ResourceTableListProps {\n  values: any[] | undefined;\n  loading: boolean;\n  emptyMessage: string;\n  children?: React.ReactNode;\n  isSelectable?: boolean;\n  onSelectionChange?: (event: DataTableSelectionChangeEvent<any[]>) => void;\n  onClickEditField?: (arg: string) => void;\n  selection?: any;\n  isPaginator?: boolean;\n  fields: { field: string; sortable?: boolean }[];\n  paginatorCount?: number;\n  handleSortField: (event: DataTableSortEvent) => void;\n  showMode?: boolean;\n  deleteQueryMethod: any;\n  getQueryMethod: any;\n  confirmDeleteMessage: string;\n  onRowClick: (arg: string) => void;\n  onClone?: (row: any) => void;\n  rows?: number;\n  hideRowActions?: boolean;\n  hideClone?: boolean;\n}\n\nconst ResourceTableList = ({\n  values,\n  loading,\n  emptyMessage,\n  children,\n  isSelectable,\n  onSelectionChange,\n  onClickEditField,\n  selection,\n  isPaginator = true,\n  fields,\n  getQueryMethod,\n  paginatorCount,\n  handleSortField,\n  showMode = false,\n  deleteQueryMethod,\n  confirmDeleteMessage,\n  onRowClick,\n  onClone,\n  rows,\n  hideRowActions = false,\n  hideClone = false,\n}: ResourceTableListProps) => {\n  const {\n    handleChangePagination,\n    paginatorFirst,\n    handleRowClick,\n    handleDeleteField,\n  } = useResourceTableList({\n    getQueryMethod,\n    showMode,\n    deleteQueryMethod,\n    onRowClick,\n  });\n\n  const paginatorTemplate = {\n    layout: \"PrevPageLink PageLinks NextPageLink CurrentPageReport\",\n    CurrentPageReport: (options: PaginatorCurrentPageReportOptions) =>\n      `${options.first} - ${options.last} of ${options.totalRecords}`,\n  };\n\n  return (\n    <ResourceTableListWrapper>\n      <DataTable\n        selection={selection}\n        onSelectionChange={onSelectionChange}\n        selectionMode={\n          isSelectable ? \"checkbox\" : showMode ? \"single\" : undefined\n        }\n        value={values}\n        rows={rows || DEFAULT_LIMIT}\n        dataKey=\"id\"\n        loading={loading}\n        onSort={handleSortField}\n        sortMode=\"single\"\n        emptyMessage={emptyMessage}\n        onRowClick={(e) => !isSelectable && handleRowClick(e)}\n      >\n        {isSelectable && <Column selectionMode=\"multiple\" />}\n        {children ||\n          (fields &&\n            fields.length &&\n            fields.map(({ field, sortable = true }) => (\n              <Column\n                field={field}\n                header={capitalize(field)}\n                sortable={sortable}\n              />\n            )))}\n        {!hideRowActions && !isSelectable && (\n          <Column\n            field={ID}\n            body={(row) => (\n              <EditColumnTemplate\n                confirmDeleteMessage={confirmDeleteMessage}\n                hideClone={hideClone}\n                onClickEdit={() => onClickEditField && onClickEditField(row.id)}\n                onClickDelete={() => handleDeleteField(row.id)}\n                onClickClone={() => onClone && onClone(row)}\n              />\n            )}\n          />\n        )}\n      </DataTable>\n      {isPaginator && !loading && (\n        <Paginator\n          template={paginatorTemplate}\n          first={paginatorFirst}\n          rows={DEFAULT_LIMIT}\n          totalRecords={paginatorCount || 0}\n          onPageChange={handleChangePagination}\n        />\n      )}\n    </ResourceTableListWrapper>\n  );\n};\n\nexport default ResourceTableList;\n"],"mappings":"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"}