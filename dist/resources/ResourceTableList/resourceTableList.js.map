{"version":3,"file":"resourceTableList.js","names":["_react","_interopRequireDefault","require","_column","_datatable","_editDeleteColumnTemplate","_staticTexts","_paginator","_paginatorWrapper","_resourceTableListWrapper","_useResourceTableList","_lodash","obj","__esModule","default","ResourceTableList","_ref","values","loading","emptyMessage","children","isSelectable","onSelectionChange","onClickEditField","selection","isPaginator","fields","isCustomFields","getQueryMethod","paginatorCount","handleSortField","showMode","deleteQueryMethod","confirmDeleteMessage","onRowClick","handleChangePagination","paginatorFirst","handleRowClick","handleDeleteField","useResourceTableList","paginatorTemplate","layout","CurrentPageReport","options","concat","first","last","totalRecords","createElement","DataTable","selectionMode","undefined","value","rows","dataKey","onSort","sortMode","e","Column","length","map","field","header","capitalize","sortable","ID","body","row","onClickEdit","id","onClickDelete","Paginator","template","DEFAULT_LIMIT","onPageChange","_default","exports"],"sources":["../../../src/resources/ResourceTableList/resourceTableList.tsx"],"sourcesContent":["import React from \"react\";\nimport { Column } from \"primereact/column\";\nimport {\n  DataTable,\n  DataTableSelectionChangeEvent,\n  DataTableSortEvent,\n} from \"primereact/datatable\";\nimport EditColumnTemplate from \"./editDeleteColumnTemplate\";\nimport { DEFAULT_LIMIT, ID } from \"../../staticTexts\";\nimport {\n  Paginator,\n  PaginatorCurrentPageReportOptions,\n} from \"primereact/paginator\";\nimport PaginatorWrapper from \"./styled/paginatorWrapper\";\nimport ResourceTableListWrapper from \"./styled/resourceTableListWrapper\";\nimport useResourceTableList from \"./talons/useResourceTableList\";\nimport { capitalize } from \"lodash\";\n\ninterface PageTableProps {\n  values: any[] | undefined;\n  loading: boolean;\n  emptyMessage: string;\n  children?: React.ReactNode;\n  isSelectable?: boolean;\n  onSelectionChange?: (event: DataTableSelectionChangeEvent<any[]>) => void;\n  onClickEditField?: (arg: string) => void;\n  selection?: any;\n  isPaginator?: boolean;\n  isCustomFields?: boolean;\n  fields: string[];\n  paginatorCount?: number;\n  handleSortField: (event: DataTableSortEvent) => void;\n  showMode?: boolean;\n  deleteQueryMethod: any;\n  getQueryMethod: any;\n  confirmDeleteMessage: string;\n  onRowClick: (arg: string) => void;\n}\n\nconst ResourceTableList = ({\n  values,\n  loading,\n  emptyMessage,\n  children,\n  isSelectable,\n  onSelectionChange,\n  onClickEditField,\n  selection,\n  isPaginator = true,\n  fields,\n  isCustomFields = false,\n  getQueryMethod,\n  paginatorCount,\n  handleSortField,\n  showMode = false,\n  deleteQueryMethod,\n  confirmDeleteMessage,\n  onRowClick,\n}: PageTableProps) => {\n  const {\n    handleChangePagination,\n    paginatorFirst,\n    handleRowClick,\n    handleDeleteField,\n  } = useResourceTableList({\n    getQueryMethod,\n    showMode,\n    deleteQueryMethod,\n    onRowClick,\n  });\n\n  const paginatorTemplate = {\n    layout: \"PrevPageLink PageLinks NextPageLink CurrentPageReport\",\n    CurrentPageReport: (options: PaginatorCurrentPageReportOptions) =>\n      `${options.first} / ${options.last} of ${options.totalRecords}`,\n  };\n\n  return (\n    <ResourceTableListWrapper>\n      <DataTable\n        selection={selection}\n        onSelectionChange={onSelectionChange}\n        selectionMode={\n          isSelectable ? \"checkbox\" : showMode ? \"single\" : undefined\n        }\n        value={values}\n        rows={10}\n        dataKey=\"id\"\n        loading={loading}\n        onSort={handleSortField}\n        sortMode=\"single\"\n        emptyMessage={emptyMessage}\n        onRowClick={(e) => !isSelectable && handleRowClick(e)}\n      >\n        {isSelectable && <Column selectionMode=\"multiple\" />}\n        {isCustomFields\n          ? children\n          : fields &&\n            fields.length &&\n            fields.map((field: string) => (\n              <Column field={field} header={capitalize(field)} sortable />\n            ))}\n        {!isSelectable && (\n          <Column\n            field={ID}\n            body={(row) => (\n              <EditColumnTemplate\n                confirmDeleteMessage={confirmDeleteMessage}\n                onClickEdit={() => onClickEditField && onClickEditField(row.id)}\n                onClickDelete={() => handleDeleteField(row.id)}\n              />\n            )}\n          />\n        )}\n      </DataTable>\n      {isPaginator && !loading && (\n        <PaginatorWrapper>\n          <Paginator\n            template={paginatorTemplate}\n            first={paginatorFirst}\n            rows={DEFAULT_LIMIT}\n            totalRecords={paginatorCount || 0}\n            onPageChange={handleChangePagination}\n          />\n        </PaginatorWrapper>\n      )}\n    </ResourceTableListWrapper>\n  );\n};\n\nexport default ResourceTableList;\n"],"mappings":"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"}