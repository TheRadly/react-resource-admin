{"version":3,"file":"resourceTableList.js","names":["_react","_interopRequireDefault","require","_column","_datatable","_editDeleteColumnTemplate","_staticTexts","_paginator","_resourceTableListWrapper","_useResourceTableList","_lodash","_jsxRuntime","obj","__esModule","default","ResourceTableList","_ref","values","loading","emptyMessage","children","isSelectable","onSelectionChange","onClickEditField","selection","isPaginator","fields","isCustomFields","getQueryMethod","paginatorCount","handleSortField","showMode","deleteQueryMethod","confirmDeleteMessage","onRowClick","rows","handleChangePagination","paginatorFirst","handleRowClick","handleDeleteField","useResourceTableList","paginatorTemplate","layout","CurrentPageReport","options","concat","first","last","totalRecords","jsxs","DataTable","selectionMode","undefined","value","DEFAULT_LIMIT","dataKey","onSort","sortMode","e","jsx","Column","length","map","_ref2","field","sortable","header","capitalize","ID","body","row","onClickEdit","id","onClickDelete","Paginator","template","onPageChange","_default","exports"],"sources":["../../../src/resources/ResourceTableList/resourceTableList.tsx"],"sourcesContent":["import React from \"react\";\nimport { Column } from \"primereact/column\";\nimport {\n  DataTable,\n  DataTableSelectionChangeEvent,\n  DataTableSortEvent,\n} from \"primereact/datatable\";\nimport EditColumnTemplate from \"./editDeleteColumnTemplate\";\nimport { DEFAULT_LIMIT, ID } from \"../../staticTexts\";\nimport {\n  Paginator,\n  PaginatorCurrentPageReportOptions,\n} from \"primereact/paginator\";\nimport ResourceTableListWrapper from \"./styled/resourceTableListWrapper\";\nimport useResourceTableList from \"./talons/useResourceTableList\";\nimport { capitalize } from \"lodash\";\n\ninterface ResourceTableListProps {\n  values: any[] | undefined;\n  loading: boolean;\n  emptyMessage: string;\n  children?: React.ReactNode;\n  isSelectable?: boolean;\n  onSelectionChange?: (event: DataTableSelectionChangeEvent<any[]>) => void;\n  onClickEditField?: (arg: string) => void;\n  selection?: any;\n  isPaginator?: boolean;\n  isCustomFields?: boolean;\n  fields: { field: string; sortable?: boolean }[];\n  paginatorCount?: number;\n  handleSortField: (event: DataTableSortEvent) => void;\n  showMode?: boolean;\n  deleteQueryMethod: any;\n  getQueryMethod: any;\n  confirmDeleteMessage: string;\n  onRowClick: (arg: string) => void;\n  rows?: number;\n}\n\nconst ResourceTableList = ({\n  values,\n  loading,\n  emptyMessage,\n  children,\n  isSelectable,\n  onSelectionChange,\n  onClickEditField,\n  selection,\n  isPaginator = true,\n  fields,\n  isCustomFields = false,\n  getQueryMethod,\n  paginatorCount,\n  handleSortField,\n  showMode = false,\n  deleteQueryMethod,\n  confirmDeleteMessage,\n  onRowClick,\n  rows,\n}: ResourceTableListProps) => {\n  const {\n    handleChangePagination,\n    paginatorFirst,\n    handleRowClick,\n    handleDeleteField,\n  } = useResourceTableList({\n    getQueryMethod,\n    showMode,\n    deleteQueryMethod,\n    onRowClick,\n  });\n\n  const paginatorTemplate = {\n    layout: \"PrevPageLink PageLinks NextPageLink CurrentPageReport\",\n    CurrentPageReport: (options: PaginatorCurrentPageReportOptions) =>\n      `${options.first} - ${options.last} of ${options.totalRecords}`,\n  };\n\n  return (\n    <ResourceTableListWrapper>\n      <DataTable\n        selection={selection}\n        onSelectionChange={onSelectionChange}\n        selectionMode={\n          isSelectable ? \"checkbox\" : showMode ? \"single\" : undefined\n        }\n        value={values}\n        rows={rows || DEFAULT_LIMIT}\n        dataKey=\"id\"\n        loading={loading}\n        onSort={handleSortField}\n        sortMode=\"single\"\n        emptyMessage={emptyMessage}\n        onRowClick={(e) => !isSelectable && handleRowClick(e)}\n      >\n        {isSelectable && <Column selectionMode=\"multiple\" />}\n        {isCustomFields\n          ? children\n          : fields &&\n            fields.length &&\n            fields.map(({ field, sortable = true }) => (\n              <Column\n                field={field}\n                header={capitalize(field)}\n                sortable={sortable}\n              />\n            ))}\n        {!isSelectable && (\n          <Column\n            field={ID}\n            body={(row) => (\n              <EditColumnTemplate\n                confirmDeleteMessage={confirmDeleteMessage}\n                onClickEdit={() => onClickEditField && onClickEditField(row.id)}\n                onClickDelete={() => handleDeleteField(row.id)}\n              />\n            )}\n          />\n        )}\n      </DataTable>\n      {isPaginator && !loading && (\n        <Paginator\n          template={paginatorTemplate}\n          first={paginatorFirst}\n          rows={DEFAULT_LIMIT}\n          totalRecords={paginatorCount || 0}\n          onPageChange={handleChangePagination}\n        />\n      )}\n    </ResourceTableListWrapper>\n  );\n};\n\nexport default ResourceTableList;\n"],"mappings":"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"}