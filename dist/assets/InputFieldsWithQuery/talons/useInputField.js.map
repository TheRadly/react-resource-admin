{"version":3,"file":"useInputField.js","names":["_react","require","_staticTexts","_parseFormValues","_interopRequireDefault","_typenameIdFilter","_confirmpopup","_pageActions","obj","__esModule","default","useInputField","_ref","item","fieldsToExclude","extraFormCruds","deleteQuery","deleteConfirmMessage","fields","parseFormValues","typenameIdFilter","handleDeleteValues","onClickDelete","useCallback","variables","ids","id","handleDeleteItem","event","confirmPopup","target","message","icon","EXCLAMATION_TRIANGLE_ICON","accept","acceptClassName","classes","customAccept","rejectClassName","customReject","_default","exports"],"sources":["../../../../src/assets/InputFieldsWithQuery/talons/useInputField.ts"],"sourcesContent":["import { useCallback } from \"react\";\nimport { EXCLAMATION_TRIANGLE_ICON } from \"../../../staticTexts\";\nimport parseFormValues from \"../../../utils/parseFormValues\";\nimport typenameIdFilter from \"../../../utils/typenameIdFilter\";\nimport { confirmPopup } from \"primereact/confirmpopup\";\nimport { CrudType } from \"../../../resources/ResourceInputsForm/models/CrudType\";\n\nimport classes from \"../../../resources/ResourceTableActions/styles/pageActions.scss\";\n\ninterface UseInputFieldProps {\n  item: any;\n  fieldsToExclude?: string[];\n  extraFormCruds?: CrudType;\n}\n\nconst useInputField = ({\n  item,\n  fieldsToExclude,\n  extraFormCruds,\n}: UseInputFieldProps) => {\n  const { deleteQuery, deleteConfirmMessage } = extraFormCruds || {};\n  const fields = parseFormValues(typenameIdFilter(item, fieldsToExclude));\n\n  const [handleDeleteValues] = deleteQuery();\n\n  const onClickDelete = useCallback(() => {\n    handleDeleteValues({\n      variables: {\n        ids: [item.id],\n      },\n    });\n  }, [handleDeleteValues, item]);\n\n  const handleDeleteItem = useCallback(\n    (event: any) => {\n      confirmPopup({\n        target: event.target,\n        message: deleteConfirmMessage,\n        icon: EXCLAMATION_TRIANGLE_ICON,\n        accept: onClickDelete,\n        acceptClassName: classes.customAccept,\n        rejectClassName: classes.customReject,\n      });\n    },\n    [deleteConfirmMessage, onClickDelete]\n  );\n\n  return { fields, handleDeleteItem };\n};\n\nexport default useInputField;\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,gBAAA,GAAAC,sBAAA,CAAAH,OAAA;AACA,IAAAI,iBAAA,GAAAD,sBAAA,CAAAH,OAAA;AACA,IAAAK,aAAA,GAAAL,OAAA;AAGA,IAAAM,YAAA,GAAAH,sBAAA,CAAAH,OAAA;AAAsF,SAAAG,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAQtF,MAAMG,aAAa,GAAGC,IAAA,IAII;EAAA,IAJH;IACrBC,IAAI;IACJC,eAAe;IACfC;EACkB,CAAC,GAAAH,IAAA;EACnB,MAAM;IAAEI,WAAW;IAAEC;EAAqB,CAAC,GAAGF,cAAc,IAAI,CAAC,CAAC;EAClE,MAAMG,MAAM,GAAG,IAAAC,wBAAe,EAAC,IAAAC,yBAAgB,EAACP,IAAI,EAAEC,eAAe,CAAC,CAAC;EAEvE,MAAM,CAACO,kBAAkB,CAAC,GAAGL,WAAW,CAAC,CAAC;EAE1C,MAAMM,aAAa,GAAG,IAAAC,kBAAW,EAAC,MAAM;IACtCF,kBAAkB,CAAC;MACjBG,SAAS,EAAE;QACTC,GAAG,EAAE,CAACZ,IAAI,CAACa,EAAE;MACf;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACL,kBAAkB,EAAER,IAAI,CAAC,CAAC;EAE9B,MAAMc,gBAAgB,GAAG,IAAAJ,kBAAW,EACjCK,KAAU,IAAK;IACd,IAAAC,0BAAY,EAAC;MACXC,MAAM,EAAEF,KAAK,CAACE,MAAM;MACpBC,OAAO,EAAEd,oBAAoB;MAC7Be,IAAI,EAAEC,sCAAyB;MAC/BC,MAAM,EAAEZ,aAAa;MACrBa,eAAe,EAAEC,oBAAO,CAACC,YAAY;MACrCC,eAAe,EAAEF,oBAAO,CAACG;IAC3B,CAAC,CAAC;EACJ,CAAC,EACD,CAACtB,oBAAoB,EAAEK,aAAa,CACtC,CAAC;EAED,OAAO;IAAEJ,MAAM;IAAES;EAAiB,CAAC;AACrC,CAAC;AAAC,IAAAa,QAAA,GAEa7B,aAAa;AAAA8B,OAAA,CAAA/B,OAAA,GAAA8B,QAAA"}